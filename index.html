<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Transformers.js QA</title>
</head>
<body>
  <h1>Ask a Question (Transformers.js)</h1>

  <label for="context">üß† Context:</label><br>
  <textarea id="context" rows="6" cols="60" placeholder="Paste some context here..."></textarea><br><br>

  <label for="question">‚ùì Question:</label><br>
  <input id="question" type="text" size="60" placeholder="Type your question here..."><br><br>

  <button id="ask">Ask!</button>

  <p id="answer" style="margin-top: 20px; font-weight: bold;">Answer will appear here...</p>

  <script type="module">
    // npm i @huggingface/transformers
    import { pipeline } from 'https://cdn.jsdelivr.net/npm/@xenova/transformers@2.17.2/dist/transformers.min.js';

    const qa = await pipeline("question-answering", "Xenova/distilbert-base-cased-distilled-squad", {
      localFilesOnly: false,
    });

    document.getElementById("ask").addEventListener("click", async () => {
      const context = 'Transformers.js is a javascript library for NLP tasks.';
      const question = 'What is Transformers.js';
      const answerEl = document.getElementById("answer");

      if (!context || !question) {
        answerEl.textContent = "‚ö†Ô∏è Please fill out both context and question.";
        return;
      }

      try {
        answerEl.textContent = "‚è≥ Thinking...";
        console.log("QUESTION TYPE:", typeof question, question);
        console.log("CONTEXT TYPE:", typeof context, context);
        const result = await qa({ question, context });
        answerEl.textContent = `‚úÖ Answer: ${result.answer}`;
      } catch (err) {

        console.error(err);
        answerEl.textContent = "‚ùå Something went wrong. Check console for details.";
      }
    });
  </script>
</body>
</html>
