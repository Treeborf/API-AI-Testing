<!DOCTYPE html>
<html>
<head>
  <title>Transformers.js QA</title>
</head>
<body>
  <h1>Ask a Question</h1>
  <textarea id="context" rows="4" cols="50">France is a country in Europe. Its capital is Paris.</textarea><br>
  <input id="question" value="What is the capital of France?"><br>
  <button id="ask">Ask</button>
  <p id="answer">Answer will appear here...</p>

  <script type="module">
    import { pipeline } from "https://cdn.jsdelivr.net/npm/@xenova/transformers@2.17.2";

    const qa = await pipeline("question-answering", null, {
      localFilesOnly: false
    });

    document.getElementById("ask").addEventListener("click", async () => {
      const context = document.getElementById("context").value;
      const question = document.getElementById("question").value;

      // âœ… Check both are strings
      if (typeof question !== "string" || typeof context !== "string") {
        alert("Please enter both a question and context.");
        return;
      }

      try {
        const result = await qa({ question, context });
        document.getElementById("answer").textContent = `Answer: ${result.answer}`;
      } catch (err) {
        console.error(err);
        document.getElementById("answer").textContent = "Error occurred during QA.";
      }
    });
  </script>
</body>
</html>



